# Editing XML Hints

The XML files generated by `id3scan` are valid XML, but are likely missing details that were not availble in the ID3 source data.

This document provides basic information on how to edit the XML to make it more accurate.

More detailed documentation on the element structures can be found in the vtmedia-schema documentation, or in the
example files that come with the schema.

 * [Names](#names)
     * [Individual Names](#individual-names)
     * [Group Names](#group-names)
     * [Multiple Entries](#multiple-entries)
 * [Non-Songs](#non-songs)
 * [Live Performances](#live-performances)
 * [File Directory Structure](#file-directory-structure)
     * [Albums By Artist](#albums-by-artist)

## Names

All names whether they belong to a group or an individual in the XML are contained in the `<unkn>` element, which is a catch
all that says the name could belong to one individual, multiple individuals, or a musical group.  Any occurence of the `<unkn>`
element should be replaced, so the value contained in the element can be identified.

### Individual Names

Name of individuals are split up to represent both the given name and the family name.

| Element | Definition | Example |
|---------|------------|---------|
| `<gn>`  | Given Name | `<gn>Garth</gn>` |
| `<mn>`  | Middle Name |  |
| `<fn>`  | Family Name | `<fn>Brooks</fn>` |

| id3scan Entry | Corrected Entry |
|-----------|-----------|
| `<artist><unkn>Garth Brooks</unkn></artist>` | `<artist><gn>Garth</gn><fn>Brooks</fn></artist>` |


### Group Names

Names of individuals are represented with the `<grp>` element.

| id3scan Entry | Corrected Entry |
|-----------|-----------|
| `<artist><unkn>The Proclaimers</unkn></artist>` | `<artist><grp>The Proclaimers</grp></artist>` |


### Combined Multiple Entries In A Single Tag

If you're dealing with multiple names, for an artist or a composer, the `<artist>` element, or the `<composer>` element
can be repeated.  If there is an additional artist listed as a "featured artist", the `<featuredArtist>` element can
be used, but it can only be applied after the main `<artist>` element.

| id3scan Entry | Corrected Entry |
|-----------|-----------------|
| `<artist><unkn>La La Land Cast Feat. Ryan Gosling &amp; Emma Stone</unkn></artist>` | `<artist><grp>La La Land Cast</grp></artist>` |
| | `<featuredArtist><gn>Ryan</gn><fn>Gosling</fn></featuredArtist>` |
| | `<featuredArtist><gn>Emma</gn><fn>Stone</fn></featuredArtist>` |


## Non-Songs

If a track on an album is just dialogue, with no music, the `<song>` element can be converted to a `<dialogue>` element.

## Live Performances

If the track on an album is a live recording (instead of a studio recording), the `<studioRecording>` element can be
converted to a `<liveRecording>` element.  If the `title/main` element of the track contains extra information to convey
that it's a live recording, it can be removed.

| id3scan Entry | Corrected Entry |
|---------------|-----------------|
| `<main>`Takin' Care Of Business (Live)`</main>` | `<main>`Takin' Care Of Business`</main>` |
| `<studioRecording/>` | `<liveRecording/>` |

If the entire album is a concert recording, the `<livePerformance/>` element can be added to
the `<classification>` element.

## File Directory Structure

Large libraries will be easier to manage if files are organized into subdirectories of your repository.


### Albums By Artist

For albums by a single artist, create a directory structure based on the artist name.  If the artist 
is an individual, the directory structure should follow the last name.  The structure doesn't 
actually matter, but using a combination of the first two letters of the name followed by the last
letter in the name is a structure that guarauntees a certain level of randomness.

When the files are moved to the correct directory, the artist name should be removed from the filename
to make it more recognizable.

| Output File | Artist Name | Directory | Song File | Full Path |
|-------------|-------------|-----------|------|-----------|
| `gary_allan_used_heart_for_sale-1996-*.xml` | Gary Allan | `artists/a/aln/gary_allan` | `used_heart_for_sale-1996-*.xml` | `artists/a/aln/gary_allan/used_heart_for_sale-1996-*.xml` |
| `aerosmith_gems-1988-*.xml` | Aerosmith | `artists/a/aeh/aerosmith` | `gems-1988-*.xml` | `artists/a/aeh/aerosmith/gems-1988-*.xml` |

If the artist name is actually a pairing of names, then use the last name of the first artist.

| Output File | Artist Name | Directory | Song File | Full Path |
|-------------|-------------|-----------|------|-----------|
| `foster_lloyd_version_of_the_truth-1990-*.xml` | Radney Foster, Bill Lloyd | `artists/f/for/foster_lloyd` | `version_of_the_truth-1990-*.xml` | `artists/f/for/foster_lloyd\version_of_the_truth-1990-*.xml`  |
| `randy_rogers_wade_bowen_hold_my_beer_vol_1-2015-*.xml` | Randy Rogers, Wade Bowen | `artists/r/ros/randy_rogers_wade_bowen` | `hold_my_beer_vol_1-2015-*.xml` | `artists/r/ros/randy_rogers_wade_bowen\hold_my_beer_vol_1-2015-*.xml` |
